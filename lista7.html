<html>
  <head>
  </head>
  <body>
    <canvas id="canvas" width="1000" height="1000"></canvas>
    <script>
      
      var graph = {};
      var numberOfPoints = 100;
      var multiplier = 2;

      function findPositions(deg) {
        var x = 500 + 250 * Math.cos(deg);
        var y = 500 + 250 * Math.sin(deg);
        return [x.toFixed(0), y.toFixed(0)];
      }
      
      function drawLine(a, b) {
              
        ctx.beginPath();
        ctx.moveTo(graph[a].x, graph[a].y);

        ctx.lineTo(graph[b].x, graph[b].y);
        ctx.stroke();

      }

      function drawLines() {
        for (var key in graph) {
          drawLine(key, graph[key].neighbour); 
        }
      }

      function findBuddies(multiplier, numberOfPoints) {
        for (var key in graph) {
          var neighbour = (key * multiplier) % numberOfPoints;
          graph[key].neighbour = neighbour;
        }
      }

      function allTheMagic(numberOfPoints, ctx) {
        var deg = 2 * Math.PI/numberOfPoints;
        for (var i = 0; i < numberOfPoints; i++) {
          var pos = findPositions(deg * i);
          graph[i] = {x: pos[0], y: pos[1], neighbour: null};
        }
               
      }

      var c=document.getElementById('canvas');
      var ctx=c.getContext("2d");
      ctx.beginPath();
      ctx.arc(500, 500,250, 0, 2*Math.PI);
      ctx.stroke();


      allTheMagic(numberOfPoints, ctx);
      findBuddies(multiplier, numberOfPoints);
      drawLines();
      console.log(graph);

    </script>
  </body>
</html>
